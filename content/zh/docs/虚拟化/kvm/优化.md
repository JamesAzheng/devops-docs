---
title: "优化"
---

# 安装virtio半虚拟化驱动

- 安装此驱动可以使操作系统访问硬件的流程缩减，从而达到提升性能的目的


- **一般较新版本Linux都已经默认加载virtio驱动**

```bash
#查看方法：在虚拟机端执行
lsmod | grep virtio

...
```

- Windows系统需要单独安装virtio驱动





# 实现宿主机启动即同时启动虚拟机

```bash
#实现虚拟机随宿主机开启自启动（在virt-manager图形界面也可以配置）
[root@centos-kvm ~]# virsh autostart centos7-3 
Domain centos7-3 marked as autostarted
#本质上就是创建了软连接
[root@centos-kvm ~]# ll /etc/libvirt/qemu/autostart/
lrwxrwxrwx 1 root root 31 Apr  2 17:01 centos7-3.xml -> /etc/libvirt/qemu/centos7-3.xml

#禁用虚拟机随宿主机开启自启动（在virt-manager图形界面也可以配置）
[root@centos-kvm ~]# virsh autostart --disable centos7-3 
Domain centos7-3 unmarked as autostarted
#本质上就是删除了软连接
[root@centos-kvm ~]# ll /etc/libvirt/qemu/autostart/
total 0
```

- 还可以在virt-manager页面将自动启动打上对勾，就可以实现自动启动


